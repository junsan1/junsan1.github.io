# Time-Weighted Portfolio Return

## Introduction

Time-[weighted portfolio](../w/weighted_portfolio.md) return (TWR) is a performance measure that indicates the compound growth rate of an investment portfolio over a specified period, independent of the impact of cash inflows and outflows. Commonly used in the finance industry, it is particularly valuable for evaluating the performance of portfolio managers because it neutralizes the effect of external cash flows, thereby isolating the return generated by the investment decisions themselves. This makes TWR an essential metric for comparing the effectiveness of different portfolio managers who might otherwise have various cash flow patterns.

## How TWR Works

### Calculation Steps

1. **Sub-period Division**: The total evaluation period is subdivided into smaller intervals whenever there is a cash flow (deposit or withdrawal).
2. **Sub-period Returns**: Calculate the return for each of these sub-periods.
3. **Geometric Linking**: Chain these sub-period returns together using geometric compounding to find the overall time-weighted return for the entire evaluation period.

Hereâ€™s a detailed breakdown of these steps:

#### Step 1: Sub-period Division

Whenever a cash flow occurs, note the portfolio value immediately before the cash flow. This allows you to segment the total period into smaller sub-periods. For instance, if a year is under review and deposits or withdrawals occurred four times during the year, the evaluation period will be divided into these four specific sub-periods.

#### Step 2: Sub-period Returns

For each sub-period, the return is calculated as follows:

\[ R_i = \frac{V_{i+1} - V_i - CF_i}{V_i} \]

where:
- \( R_i \) = Return for sub-period i
- \( V_i \) = Portfolio value at the start of sub-period i
- \( V_{i+1} \) = Portfolio value at the end of sub-period i before accounting for the next cash flow
- \( CF_i \) = Cash flow during sub-period i

Let's consider an example with data:
- Value at start of period (V0): $100,000
- Value at end of first sub-period (V1): $105,000, with a cash inflow of $10,000 at this time
- Value at end of second sub-period (V2): $120,000, with a cash outflow of $5,000 at this time

The returns for the sub-periods would be calculated as:
1. \( R_1 = \frac{105000 - 100000 - 0}{100000} = 5\% \)
2. \( R_2 = \frac{120000 - (105000 + 10000) - 5000}{105000 + 10000} \approx 4.55\% \)

#### Step 3: Geometric Linking

The overall TWR is obtained by linking these sub-period returns geometrically:

\[ TWR = \left( \prod_{i=1}^{n} (1 + R_i) \right) - 1 \]

Continuing from the previous sub-period returns:
\[ TWR = (1 + 0.05) \times (1 + 0.0455) - 1 \approx 10.47\% \]

## Importance and Use Cases

### Evaluation of Investment Managers

The primary advantage of TWR is its ability to provide a performance measure that disregards the size and timing of external cash flows, focusing solely on the manager's investment performance. For instance, a portfolio manager who consistently achieves high returns on investments deserves credit for talent, while another whose performance appears stellar only because of substantial mid-period cash inflows should not necessarily be viewed as equally effective.

### Comparing Different Portfolios

TWR allows for an apples-to-apples comparison between multiple portfolios with differing cash flows. A traditional money-weighted return, influenced heavily by cash inflows and outflows, can misrepresent true performance, whereas TWR neutralizes this impact.

### Industry Standard

Given its comprehensive nature, TWR is mandated by the Global Investment Performance Standards (GIPS), ensuring standardized and comparable reporting across different investment firms and funds.

## Limitations of TWR

Despite its advantages, TWR is not without limitations.

1. **Complexity**: Calculating TWR can be complicated and require more detailed data than money-[weighted returns](../w/weighted_returns_in_trading.md), especially for portfolios with frequent cash flows.
2. **Does Not Reflect Investor Experience**: While useful for measuring manager performance, TWR does not necessarily reflect the experience of investors whose individual returns may be affected significantly by the timing and size of their cash flows.
3. **Cost and Time**: The need to calculate returns for each sub-period and link them can be resource-intensive, particularly for large portfolios with high-frequency trading.

## Comparison with Money-Weighted Return (MWR)

### Basis of Comparison

- **Calculation**: MWR computes the internal rate of return (IRR) considering the size and timing of cash flows, differing significantly from TWR which isolates the returns unaffected by cash flows.
- **Perspective**: TWR reflects the portfolio manager's effectiveness, while MWR aligns closer to the investor's actual experience.
- **Complexity**: MWR typically involves solving for IRR, which can be less data-intensive but computationally intensive for non-linear equations.

### Example

Consider two portfolios with identical value growth but different cash flow patterns. TWR would present identical performance ratings for both, highlighting manager skill, whereas MWR might present differing results based on when and how much cash was added or withdrawn.

## Practical Implementation and Tools

### Software and Platforms

Numerous [software tools](../s/software_tools_for_trading.md) and platforms aid in calculating TWR:

- **[Morningstar](../m/morningstar.md) Direct**: A comprehensive investment analysis platform that offers TWR calculation (https://www.[morningstar](../m/morningstar.md).com/products/direct).
- **[Bloomberg](../b/bloomberg.md) Terminal**: Known for its extensive financial data, the terminal provides TWR analytics tools, suitable for professional finance users (https://www.[bloomberg](../b/bloomberg.md).com/professional/solution/[bloomberg](../b/bloomberg.md)-terminal/).

### Excel Implementation

For those preferring or needing custom analysis, Excel offers a reliable platform for TWR calculations. By organizing portfolio values and cash flows and using appropriate formulas, one can effectively compute TWR. A step-by-step approach using Excel functions like `PRODUCT` and custom scripts can facilitate this process.

## Conclusion

Time-[weighted portfolio](../w/weighted_portfolio.md) return is a crucial metric in the realm of finance and investment management. By offering a measure that excludes the influence of external cash flows, it enables an objective assessment of portfolio manager performance. Despite its complexity and limitations, its adoption as an industry standard underscores its significance. Evaluating TWR alongside other metrics like money-weighted return can provide a comprehensive view of both manager performance and investor experience, fostering better-informed decision-making for stakeholders.
